import { useEffect, useState } from "react";
import honeypotImg from "./assets/honeypot.jpg";
import urlScanImg1 from "./assets/malicious-url-scan.jpg";
import urlScanImg2 from "./assets/youtube-safe-url-scan.jpg";
import phishImg1 from "./assets/phish.jpg";
import phishImg2 from "./assets/phish2.jpg";

const profile = {
  name: "Nikolla Nickolov",
  tagline: "Cybersecurity • Systems • Applied Data",
  location: "Tampa Bay, FL",
  email: "Nickman477@gmail.com",
  phone: "727-307-8538",
  linkedin: "https://www.linkedin.com/in/nikolla-nickolov-1a46a2290/",
  resumeUrl: "/NIKOLLA_NICKOLOV.pdf",
  headshot: "https://avatars.githubusercontent.com/u/9919?s=200",
  availability: "Open to Cybersecurity / SecOps / IT Ops roles (onsite/hybrid).",
};

export default function App() {
  const [activeProject, setActiveProject] = useState<null | string>(null);

  useEffect(() => {
    document.documentElement.dataset.theme = "dark";
  }, []);

  const toggleProject = (project: string) => {
    setActiveProject((prev) => (prev === project ? null : project));
  };

  return (
    <div className="wrap">
      {/* Top Bar */}
      <header className="topbar">
        <div className="brand">
          <img className="avatar" src={profile.headshot} alt="Headshot" />
          <div>
            <div className="brand-name">{profile.name}</div>
            <div className="brand-sub">{profile.tagline}</div>
          </div>
        </div>
        <nav className="nav">
          <a href="#projects">Projects</a>
          <a href="#skills">Skills</a>
          <a href="#resume">Resume</a>
          <a href="#contact">Contact</a>
        </nav>
      </header>

      {/* Hero */}
      <section className="hero">
        <div className="badges">
          <span className="badge">Based in {profile.location}</span>
          <span className="badge">{profile.availability}</span>
        </div>
        <h1>
          Applied Cybersecurity and IT: Threat Detection, Automation, and
          Incident Response
        </h1>
        <p className="lead">
          Hands-on cybersecurity projects, clear technical documentation, and
          smart automation are at the core of how I deliver value.
        </p>
        <div className="cta">
          <a className="btn primary" href="#skills">
            View Skills
          </a>
          <a className="btn" href="#resume">
            Resume
          </a>
          <a className="btn" href={profile.linkedin} target="_blank">
            LinkedIn
          </a>
        </div>
      </section>

      {/* Projects */}
      <section id="projects" className="section">
        <h2>Projects</h2>

        {/* Honeypot IDS */}
        <div className="panel">
          <h3>Honeypot-Based Intrusion Detection System (IDS)</h3>
          <p>
            Deployed T-Pot platform integrating Cowrie (SSH/Telnet honeypot),
            Dionaea (malware collector), and ELK Stack (Elasticsearch, Logstash,
            Kibana) on an Ubuntu VM. Configured Suricata rules for advanced
            network-based detection and integrated firewall hardening for
            east-west and north-south traffic inspection.
          </p>
          <div className="project-buttons">
            <button className="view-btn" onClick={() => toggleProject("honeypot")}>
              View Details
            </button>
            {activeProject === "honeypot" && (
              <button className="close-btn" onClick={() => setActiveProject(null)}>
                Close
              </button>
            )}
          </div>
          {activeProject === "honeypot" && (
            <div className="project-details">
              <img
                src={honeypotImg}
                alt="Proof of Honeypot Setup"
                style={{
                  maxWidth: "100%",
                  borderRadius: "8px",
                  marginTop: "1rem",
                }}
              />
              <p className="muted">
                <strong>Screenshot explanation:</strong> Kibana dashboard showing Cowrie SSH brute-force attempts,
                Suricata alerts, and attacker IP geolocation.
              </p>

              <p className="muted">
                <strong>Step by Step:</strong>
              </p>
              <ul className="muted">
                <li>Isolated a DMZ in pfSense; forwarded honeypot ports only.</li>
                <li>Deployed T-Pot with Cowrie + Dionaea honeypots.</li>
                <li>Captured brute-force credentials, commands, and payload hashes.</li>
                <li>Ran Suricata with community + custom IDS rules.</li>
                <li>Shipped events into ELK and built Kibana dashboards.</li>
              </ul>

              <p className="muted">
                <strong>Technical Execution:</strong> Configured Docker-based honeypots inside a DMZ,
                set up port mirroring, captured SSH brute-force attempts, malware hashes, and payloads.
                Logged attacker TTPs aligned with MITRE ATT&CK.
              </p>
              <p className="muted">
                <strong>Tools Used:</strong> Cowrie, Dionaea, Suricata, pfSense, Ubuntu, Logstash,
                Kibana, Docker, Elasticsearch.
              </p>
              <p className="muted">
                <strong>Objective:</strong> Real-time visibility into adversary behavior, centralized
                log correlation via ELK, actionable SIEM alerts, and detection of lateral movement.
              </p>
              <p className="muted">
                <strong>Career & Learning Impact:</strong> Strengthened my ability to design segmented
                network environments and analyze adversary behavior using SIEM platforms. Gained
                practical experience with deception technology and improved detection engineering
                skills directly applicable to SOC and threat hunting roles.
              </p>
            </div>
          )}
        </div>

        {/* Other projects remain unchanged */}
        {/* ... */}
      </section>

      {/* Skills */}
      <section id="skills" className="section">
        <h2>Skills</h2>
        <div className="panel">
          {/* skills unchanged */}
        </div>
      </section>

      {/* Resume Embedded */}
      <section id="resume" className="section">
        <h2>Resume</h2>
        <iframe
          src={profile.resumeUrl}
          style={{ width: "100%", height: "1000px", border: "none" }}
        />
      </section>

      {/* Contact */}
      <section id="contact" className="section">
        <h2>Contact</h2>
        <div className="panel">
          <p className="muted">
            Email: {profile.email} <br />
            Phone: {profile.phone} <br />
            LinkedIn:{" "}
            <a href={profile.linkedin} target="_blank">
              {profile.linkedin}
            </a>
          </p>
        </div>
      </section>

      <footer className="footer">
        © {new Date().getFullYear()} {profile.name}. Built with React + Vite.
      </footer>
    </div>
  );
}
